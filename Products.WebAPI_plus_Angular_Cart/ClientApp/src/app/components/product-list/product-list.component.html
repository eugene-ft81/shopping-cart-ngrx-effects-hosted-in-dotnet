<div *ngIf="!(loading | async); else spinner">
    <h2>Products</h2>
    <div *ngFor="let product of products | async; trackBy: trackProduct">
        <a [title]="product.name + ' details'" [routerLink]="['/products', product.id]">
            <img src="{{ product.image }}" alt="{{ product.name }}" />
            <div class="name">
                <h3>{{ product.name }}</h3>
            </div>
        </a>
    </div>
</div>
<ng-template #spinner>
    <mat-progress-spinner [mode]="'indeterminate'"></mat-progress-spinner>
</ng-template>
<div *ngIf="error | async as error">
    <button mat-raised-button color="warn">
        {{error.message}}
  </button>
</div>